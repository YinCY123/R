define(['require','js/lib/jquery'],function(require){var a=require("js/lib/jquery"),c="placeholder"in document.createElement("input"),y=function(c,y,v){defaultValue=c.defaultValue,a(c).addClass(v.emptyClz),c.value=y,c.onfocus=function(){(c.value===defaultValue||c.value===y)&&(this.value="",a(c).removeClass(v.emptyClz))},c.onblur=function(){""===c.value&&(this.value=y,a(c).addClass(v.emptyClz))}},v=function(a,c,y){var v=document.createElement("input");v.type="text",v.className=y.emptyClz+" "+y.passwordClz+" "+a.className,v.value=c,v.autocomplete="off",a.style.display="none",a.parentNode.appendChild(v),v.onfocus=function(){v.style.display="none",a.style.display="",a.focus()},a.onblur=function(){""===a.value&&(v.style.display="",a.style.display="none")}},h=function(a,h){if(a&&!c){var C=a.getAttribute("hasPlaceholder")||0;if("1"!=C){var b=a.getAttribute("placeholder");b||a.attributes&&a.attributes.placeholder&&(b=a.attributes.placeholder.value);var z=a.tagName;if("INPUT"==z){var A=a.type;"password"==A&&b?v(a,b,h):"text"==A&&b&&y(a,b,h)}else"TEXTAREA"==z&&y(a,b,h);a.setAttribute("hasPlaceholder","1")}}};return function(c,y){var v={emptyClz:"gray",passWordClz:"password-placeholder"};c.each(function(){var c=a(this)[0];y=a.extend(!0,{},v,y),h(c,y)})}});