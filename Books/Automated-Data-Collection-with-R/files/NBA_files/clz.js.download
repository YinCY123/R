define(['require','js/lib/jquery'],function(require){function a(c){function g(a,c,g){var h,s,y={};for(h in c)s=c[h],h in a&&(a[h]===s||h in y&&y[h]===s)||(a[h]=g?g(s):s);return a}if(!c||"object"!=typeof c||"[object Function]"===Object.prototype.toString.call(c))return c;if(c.nodeType&&"cloneNode"in c)return c.cloneNode(!0);if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp)return new RegExp(c);var r,i,l;if(c instanceof Array)for(r=[],i=0,l=c.length;l>i;++i)i in c&&r.push(a(c[i]));else r="function"==typeof c?function(){return c.apply(this,arguments)}:c.constructor?new c.constructor:{};return g(r,c,a)}function c(o,n){for(var i in n)o[i]=n[i];return o}function g(o){function a(){}return a.prototype=o,new a}function h(a,c){var h=g(c.prototype);h.constructor=a,a.prototype=h}var y=require("js/lib/jquery"),w=function(a){return function(){this._JQ||(this._JQ=y(this));var c=this._JQ;if("data"===a){var g=!1,h=arguments.length,w=c[a].apply(this._JQ,arguments);return 2===h&&(g=!0),3===h&&(g=!!arguments[2]),g&&c.trigger("data:"+arguments[0],v.call(arguments)),w}c[a].apply(this._JQ,arguments)}},v=[].slice,E={emit:"trigger",trigger:"trigger",once:"one",one:"one",on:"on",off:"off",data:"data"},_=function(){var o={};for(var a in E)o[a]=w(E[a]);return o}(),b=function(){},D=function(){return window.console&&window.console.log&&window.__debug__?function(){try{console.log.apply(console,v.call(arguments))}catch(e){}}:b}(),T=/xyz/.test(function(){})?/\b_super\b/:/.*/,A=function(g,w){function v(){this.init.apply(this,arguments)}return 1===arguments.length&&"boolean"==typeof g&&(w=g,g=void 0),v.superclass=g,v.subclasses=[],g&&(h(v,g),g.subclasses.push(v),g.DEFAULTS&&(v.DEFAULTS=a(g.DEFAULTS))),v.DEFAULTS=v.DEFAULTS||{},w||!window.jQuery&&!window.Zepto||y.extend(v.prototype,_),v.prototype.init=v.prototype.init||b,v.fn=v.prototype,v.fn.parent=v,v.proxy=function(a){var c=this;return function(){return a.apply(c,arguments)}},v.fn.proxy=v.proxy,v.fn.log=D,v.extend=function(a){c(v,a)},v.include=function(a){var c=v.superclass&&v.superclass.prototype;for(var g in a){if(g in E)throw new Error('"'+g+'" is reserved keyword, please use another word.');var h=a[g];c&&"function"==typeof h&&"function"==typeof c[g]&&T.test(h)&&(h=function(a,g){return function(){var h=this._super;this._super=c[a];var y=g.apply(this,arguments);return this._super=h,y}}(g,h)),v.prototype[g]&&D("*"+g+"*","is overwrited","at *"+this.DEFAULTS.name+"*"),v.prototype[g]=h}},v};return A.c=function(a,g,h){if(arguments.length<2||arguments.length>3)throw new Error("请传入两个(defaults, includes)或三个参数(parent, defaults, includes)");2==arguments.length&&(h=g,g=a,a=void 0);var y=new this(a);return y.DEFAULTS=c(y.DEFAULTS,g),y.include(h||{}),y},A.n=function(a,c,g){var h;if(arguments.length<1||arguments.length>3)throw new Error("请传入参数(clz)或(clz, defaults)或(clz, defaults, includes)");if(arguments.length<3&&(c=c||{},h=new a(c)),3==arguments.length){var y=this.c(a,c,g);h=new y}return h},A});