---
title: "preprocess-amd-data"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, message=FALSE, warning=FALSE}
library(tidyverse)
library(GEOquery)
```


## GSE139522 
select cd31 enriched single cell data from donor 4 - 7  
```{r}
gse139522_sample_info <- readRDS(file = "gse135922_single-cell_sample_info.rds")
samples <- gse139522_sample_info %>% pData() %>% 
  filter(grepl("cd31", title), characteristics_ch1.3 == "location: macula") %>% 
  pull(geo_accession)
```


```{r}
for(i in samples[2:4]){
  do.call(
  what = "getGEOSuppFiles", 
  args = list(GEO = i)
)
}
```




